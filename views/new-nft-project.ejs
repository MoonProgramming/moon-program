<% layout('layout') -%>

    <div class="container">
        <div class="pb-2 mt-4 mb-4 border-bottom">
            <h2>New NFT Collection</h2>
            <div class="small mt-3">&bull; Mint new NFT art collection with custom smart contract.<br>
                &bull; Each with unique properties combination.<br>
                &bull; Secondary market available for purchase at <a href="https://opensea.io/collection/crypto-blocks-collection"
                    target="blank">Opensea.io</a>
            </div>
        </div>

        <div class="pb-2 mt-4 mb-4 border-bottom">

        <% include templates/alert.ejs %>
        <div id="metamaskAlerts"></div>

        <div class="text-right">
            <button class="btn btn-sm btn-light" type="button" id="connectWalletButton" onclick="connectWallet()">
                Connect Wallet &raquo;
            </button>
        </div>

        <div class="d-flex justify-content-sm-center mt-2">
            <div id="nftHolder" class="embed-responsive embed-responsive-1by1" style="max-width: 400px;">
                <iframe class="embed-responsive-item" src="./new-nft-project/asset/full/3"></iframe>
            </div>
        </div>
        <div class="text-center">
            <button class="btn btn-sm btn-light" type="button" id="mintNewNftButton">
                mint for <%= mintPrice %> <%= currency %> &raquo;
            </button>
        </div>
        </div>

        <div class="pb-2 mt-4 mb-4 border-bottom">
            <h3>Your NFT Collection:</h3>
            <div class="small mt-3" id="userCollectionMsg">&bull; Please connect metamask wallet to see your collection.</div>
            <div class="card-deck" id="userCollectionHolder"></div>
        </div>
    </div>
    <script>
        let contractAddress = '<%= contractAddress %>';
        let contractAbi = '<%- JSON.stringify(contractAbi) %>';
        let mintPrice = '<%= mintPrice %>';
    </script>
    <script type="module" src="/lib/wallet.js"></script>